# 微信小程序和 Web 端同构的解决方案——Kbone

## Kbone 是什么?
> [官方](https://developers.weixin.qq.com/community/develop/article/doc/0008424ea884e83b47895f5c45b813)  [知乎](https://zhuanlan.zhihu.com/p/152056312)

Kbone 是一个致力于微信小程序和 Web 端同构的解决方案。

微信小程序的底层模型和 Web 端不同，我们想直接把 Web 端的代码挪到小程序环境内执行是不可能的。Kbone 的诞生就是为了解决这个问题，它实现了一个适配器，在适配层里模拟出了浏览器环境，让 Web 端的代码可以不做什么改动便可运行在小程序里。

这样，我们就可以借助 Kbone 快速实现 Web 项目转化为微信小程序项目。

## Kbone的优劣
> 优势
* 大部分流行的前端框架都能够在 Kbone 上运行，比如 Vue、React、Preact 等。
* 支持更为完整的前端框架特性，因为 Kbone 不会对框架底层进行删改（比如 Vue 中的 v-html 指令、Vue-router 插件）。
* 提供了常用的 DOM/BOM 接口，让用户代码无需做太大改动便可从 Web 端迁移到小程序端。
* 在小程序端运行时，仍然可以使用小程序本身的特性（比如像 live-player 内置组件、分包功能）。
* 提供了一些 Dom 扩展接口，让一些无法完美兼容到小程序端的接口也有替代使用方案（比如 getComputedStyle 接口）。

> 劣势
* Kbone 是使用一定的性能损耗来换取更为全面的 Web 端特性支持。

## 如何选择同构方案？
> 因为 Kbone 会损耗一定的性能，所以我们建议你这样选择：
* 如果你对小程序的性能特别苛刻，建议直接使用原生小程序开发。
* 如果你的页面节点数量特别多（通常在 1000 节点以上），同时还要保证在节点数无限上涨时仍然有稳定的渲染性能的话，可以尝试一下业内采用静态模板转译的方案。
* 其他情况就可以直接采用 Kbone 了。

## 快速上手
> 如果，你的项目还没有开始，那么推荐你使用 kbone-cli 来快速开发。只需两步：
1. 安装 kbone-cli
```
npm install -g kbone-cli
```
2. 创建项目
```
kbone init my-app
```
项目初始化成功后，就可以按照 README.md 的指引进行开发～

## 自行搭建
